(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{12:function(e,t,a){e.exports={list:"image_list_list__1LjvJ",image_wrapper:"image_list_image_wrapper__3n9JX",button:"image_list_button__R3060",image_container:"image_list_image_container__WEHoO",image_inner:"image_list_image_inner__-AFCD"}},17:function(e,t,a){e.exports={container:"tooltip_container__24iCO",image_tooltip:"tooltip_image_tooltip__1ZpO2",tooltip_right:"tooltip_tooltip_right__BE67l",tooltip_left:"tooltip_tooltip_left__2TLnL",tooltip_top:"tooltip_tooltip_top__3aroG",tooltip_bottom:"tooltip_tooltip_bottom__1h4lx"}},18:function(e,t,a){e.exports={wrapper:"image_view_wrapper__1mzQj",fade:"image_view_fade__2UeMf",image_container:"image_view_image_container__3t24-",button:"image_view_button__1OHP_"}},34:function(e,t,a){e.exports=a(49)},39:function(e,t,a){},46:function(e,t,a){},49:function(e,t,a){"use strict";a.r(t);var n=a(32),i=a(0),o=a.n(i),r=a(25),c=a.n(r),l=(a(39),a(9)),s=a(7),m=a(11),u=a(1),p=a(2),g=a(4),_=a(3),d=a(5),h=a(6),f=a.n(h),b={fontWeight:600,margin:"10px"},O=function(e){function t(){return Object(u.a)(this,t),Object(g.a)(this,Object(_.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){return o.a.createElement("h2",{style:b},this.props.text)}}]),t}(i.PureComponent),j=a(33),v=a(17),C=a.n(v),E=function(e){function t(){return Object(u.a)(this,t),Object(g.a)(this,Object(_.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this.props,t=e.pointer,a=e.tooltip,n=e.position,i=e.children,r=e.classes,c=[C.a.container].concat(Object(j.a)(r)).join(" ");return o.a.createElement("div",{className:c},i,a&&t&&o.a.createElement("div",{style:{"--tooltip-position":"".concat(n,"%")},className:C.a.image_tooltip+" "+C.a["tooltip_".concat(t)]},a))}}]),t}(i.PureComponent);E.defaultProps={classes:[]};var k=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(g.a)(this,Object(_.a)(t).call(this,e))).handleClick=function(e){a.imageInput.current.click()},a.handleImageChange=function(e){var t=a.imageInput.current.files[0];t?(a.fileSizeMB=t.size/Math.pow(1024,2),a.fileReader.readAsDataURL(t)):a.props.handleInput("image","")},a.imageInput=o.a.createRef(),a.fileReader=new FileReader,a}return Object(d.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.fileReader.onloadend=function(){return e.props.handleInput({src:e.fileReader.result,size:e.fileSizeMB})}}},{key:"render",value:function(){var e=this.props,t=e.image,a=(e.handleImage,Object(s.a)(e,["image","handleImage"])),n="url(".concat(t,")"),i=[f.a.input_image,""===t?f.a.input_image_empty:""].join(" ");return o.a.createElement(E,Object.assign({},a,{classes:[f.a.image_container]}),o.a.createElement("div",{className:i,onClick:this.handleClick,style:{backgroundImage:n}},o.a.createElement("input",{type:"file",ref:this.imageInput,accept:"image/*",onChange:this.handleImageChange,hidden:!0})))}}]),t}(i.PureComponent),y=function(e){function t(){return Object(u.a)(this,t),Object(g.a)(this,Object(_.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this.props,t=e.title,a=e.onClick,n=e.selected;return o.a.createElement("button",{onClick:a,className:f.a.button+" ".concat(n?f.a.button_selected:"")},t)}}]),t}(i.PureComponent),w=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=Object(g.a)(this,(e=Object(_.a)(t)).call.apply(e,[this].concat(i)))).handleChange=function(e){a.props.handleInput("tooltip",e.target.value)},a}return Object(d.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this.props,t=e.tooltip,a=e.handleSave;return o.a.createElement("footer",{className:f.a.footer},o.a.createElement("input",{type:"text",name:"toolrip",onChange:this.handleChange,value:t,maxLength:200,placeholder:"Tooltip text"}),o.a.createElement(y,{title:"Save",onClick:a}))}}]),t}(i.PureComponent),I=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=Object(g.a)(this,(e=Object(_.a)(t)).call.apply(e,[this].concat(i)))).handleClick=function(e){a.props.handlePointerChange("pointer",e)},a}return Object(d.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this,t=this.props.pointer;return o.a.createElement("div",{className:f.a.pointers},o.a.createElement(y,{title:"Top",selected:"top"===t,onClick:function(){return e.handleClick("top")}}),o.a.createElement(y,{title:"Right",selected:"right"===t,onClick:function(){return e.handleClick("right")}}),o.a.createElement(y,{title:"Bottom",selected:"bottom"===t,onClick:function(){return e.handleClick("bottom")}}),o.a.createElement(y,{title:"Left",selected:"left"===t,onClick:function(){return e.handleClick("left")}}))}}]),t}(i.PureComponent),S=function(){return o.a.createElement(O,{text:"Save image"})},x=function(e){var t=e.text,a=e.onClick,n=Object(s.a)(e,["text","onClick"]);return o.a.createElement("span",Object.assign({className:f.a.text_button,onClick:a},n),t)},z=function(e){return o.a.createElement("input",Object.assign({type:"range",className:f.a.trackbar},e))};z.defaultProps={min:0,max:100};var N=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=Object(g.a)(this,(e=Object(_.a)(t)).call.apply(e,[this].concat(i)))).handleSubmit=function(e){e.preventDefault()},a}return Object(d.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this.props,t=e.tooltip,a=e.pointer,n=e.image,i=e.totalSize,r=e.maxSize,c=e.position,l=e.handleInput,s=e.handleSave,m=e.handleImage,u="Memory: ".concat(i," / ").concat(r," ").concat(r!==1/0?"Mb (LocalStorage limit) ":"");return o.a.createElement("form",{className:f.a.image_form,onSubmit:this.handleSubmit},o.a.createElement(S,null),o.a.createElement("p",null,u,r!==1/0&&o.a.createElement(x,{text:"Maximize limit",onClick:function(){return l("maxSize",1/0)},title:"Saving image isn't guaranteed with unlimited storage"})),o.a.createElement("div",{className:f.a.settings},o.a.createElement(k,{handleInput:m,image:n,tooltip:t,pointer:a,position:c}),o.a.createElement(z,{value:c,onChange:function(e){return l("position",+e.target.value)}}),o.a.createElement(I,{pointer:a,handlePointerChange:l}),o.a.createElement(w,{tooltip:t,handleInput:l,handleSave:s})))}}]),t}(i.PureComponent),A=a(12),L=a.n(A),V=function(e){var t=e.position,a=e.onClick,n=e.children;return o.a.createElement("button",{className:L.a.button,"data-pos":t,onClick:a},n)},P=function(e){var t=e.src,a=e.onDeleteImage,n=e.onEditImage,i=e.onViewImage,r=Object(s.a)(e,["src","onDeleteImage","onEditImage","onViewImage"]);return o.a.createElement("div",{className:L.a.image_wrapper},o.a.createElement(E,Object.assign({},r,{classes:[L.a.image_container]}),o.a.createElement("div",{className:L.a.image_inner,style:{backgroundImage:"url(".concat(t,")")}}),o.a.createElement(V,{position:"left",onClick:n},"Edit"),o.a.createElement(V,{position:"right",onClick:a},"Delete"),o.a.createElement(V,{position:"center",onClick:i},"View")))},R=function(e){function t(){return Object(u.a)(this,t),Object(g.a)(this,Object(_.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this.props,t=e.images,a=e.deleteImage,n=e.handleSelect,i=e.handleView;return o.a.createElement("div",{className:L.a.container},o.a.createElement(O,{text:"Available images"}),o.a.createElement("div",{className:L.a.list},t.map(function(e){return o.a.createElement(P,Object.assign({},e,{onViewImage:function(){return i(e)},onDeleteImage:function(){return a(e.key)},onEditImage:function(){return n(e)}}))})))}}]),t}(i.Component),B=a(18),D=a.n(B),T=function(e){var t=e.position,a=e.onClick,n=e.children;return o.a.createElement("button",{className:D.a.button,"data-pos":t,onClick:a},n)},M=function(e){function t(){return Object(u.a)(this,t),Object(g.a)(this,Object(_.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this.props,t=e.onClose,a=e.image,n=Object(s.a)(e,["onClose","image"]);return o.a.createElement("div",{className:D.a.wrapper},o.a.createElement(E,Object.assign({},n,{classes:[D.a.image_container]}),o.a.createElement("img",{src:a,alt:n.tooltip}),o.a.createElement(T,{position:"right",onClick:t},"Close")))}}]),t}(i.PureComponent),F=a(16),G=a(8),H=a(27),W=a.n(H),J="tooltip-image/images/insert",K="tooltip-image/images/edit",Q="tooltip-image/images/delete",U={},X=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:U,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case J:var a=t.payload,n=a.id,i=a.image;e=Object(l.a)({},e,Object(m.a)({},n,i));break;case Q:var o=Object(l.a)({},e);delete o[t.payload.id],e=o;break;case K:var r=t.payload,c=r.id,u=Object(s.a)(r,["id"]),p=Object(l.a)({},e);p[c]=u,e=p}return e},Z=function(e){return function(t){var a=W()();t({type:J,payload:{image:e,id:a}})}},$=function(e){return function(t){t({type:Q,payload:{id:e}})}},q=function(e){return function(t){t({type:K,payload:e})}},Y=4,ee=(a(46),function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(g.a)(this,Object(_.a)(t).call(this,e))).handleStateChange=function(e,t){a.setState(function(a){var n,i=a.pointer;return"tooltip"===e&&""===i?(i="top",n={},Object(m.a)(n,e,t),Object(m.a)(n,"pointer",i),n):Object(m.a)({},e,t)})},a.handleImageChange=function(e){a.setState({image:e.src,size:e.size})},a.handleSelectImage=function(e){var t=e.key,n=e.src,i=Object(s.a)(e,["key","src"]);a.setState(Object(l.a)({id:t,image:n},i))},a.handleSave=function(e){var t=a.state,n=t.maxSize,i=t.image,o=t.tooltip,r=t.pointer,c=t.id,s=t.size,m=t.position;if(""!==i)if(""!==o||""===r){var u=a.totalSize+ +s.toFixed(2);u>n?alert("Image too large: ".concat(u," > ").concat(n,"Mb")):""===c?(a.boundActionCreators.insertImage({src:i,tooltip:o,pointer:r,size:s,position:m}),a.setState(Object(l.a)({},a.initialState))):(a.boundActionCreators.editImage({id:c,src:i,tooltip:o,pointer:r,size:s,position:m}),a.setState(Object(l.a)({},a.initialState)))}else alert("Enter tooltip");else alert("Choose image")},a.handleViewImage=function(e){if(e){var t=e.key,n=e.src,i=Object(s.a)(e,["key","src"]);a.setState({view:Object(l.a)({id:t,image:n},i)})}else a.setState({view:null})},a.initialState={pointer:"",tooltip:"",image:"",size:"",position:50,id:"",view:null},a.state=Object(l.a)({maxSize:Y},a.initialState),a.boundActionCreators=Object(G.b)({insertImage:Z,editImage:q,deleteImage:$},e.dispatch),a}return Object(d.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this,t=this.props.images,a=this.boundActionCreators.deleteImage,n=this.state,i=(n.id,n.view),r=Object(s.a)(n,["id","view"]);return o.a.createElement("div",{className:"App"},o.a.createElement(N,Object.assign({},r,{totalSize:this.totalSize,handleImage:this.handleImageChange,handleInput:this.handleStateChange,handleSave:this.handleSave})),o.a.createElement(R,{images:t,deleteImage:a,handleView:this.handleViewImage,handleSelect:this.handleSelectImage}),i&&o.a.createElement(M,Object.assign({},i,{onClose:function(){return e.handleViewImage(null)}})))}},{key:"totalSize",get:function(){return+this.props.images.reduce(function(e,t){return e+t.size},0).toFixed(2)}}]),t}(i.Component)),te=Object(F.b)(function(e){var t,a=e.images;return{images:(t=a,Object.keys(t).map(function(e){return Object(l.a)({key:e},t[e])}))}},null)(ee);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var ae=a(28),ne=a(29),ie=a.n(ne),oe=a(30),re=a(22),ce=a(31),le=a.n(ce),se=Object(G.c)({images:X}),me={key:"root",storage:le.a,writeFailHandler:function(e,t,a){console.log(e,t,a),console.log("Error: too much image size")}},ue=Object(re.a)(me,se),pe=Object(G.d)(ue,Object(G.a)(oe.a,ie.a)),ge=Object(re.b)(pe);if("object"===typeof window.__REACT_DEVTOOLS_GLOBAL_HOOK__)for(var _e=Object.entries(window.__REACT_DEVTOOLS_GLOBAL_HOOK__),de=0;de<_e.length;de++){var he=_e[de],fe=Object(n.a)(he,2),be=fe[0],Oe=fe[1];window.__REACT_DEVTOOLS_GLOBAL_HOOK__[be]="function"==typeof Oe?function(){}:null}var je=document.getElementById("root");je&&c.a.render(o.a.createElement(F.a,{store:pe},o.a.createElement(ae.a,{loading:null,persistor:ge},o.a.createElement(te,null))),je),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},6:function(e,t,a){e.exports={image_form:"image_form_image_form__5JQQw",settings:"image_form_settings__1hhFv",trackbar:"image_form_trackbar__29fCt",text_button:"image_form_text_button__1EWtc",button:"image_form_button__12BzU",button_selected:"image_form_button_selected__1g60G",image_container:"image_form_image_container__2VBnB",input_image:"image_form_input_image__39kCW",input_image_empty:"image_form_input_image_empty__3GulT",pointers:"image_form_pointers__3KoRd",footer:"image_form_footer__XCuyV"}}},[[34,1,2]]]);
//# sourceMappingURL=main.7b4eaec5.chunk.js.map